# === PROFILO PRODUZIONE ===

## Database MySQL produzione
spring.datasource.url=jdbc:mysql://db:3306/greedys_v1
spring.datasource.username=greedys
spring.datasource.password=file:/run/secrets/db_password
spring.datasource.driverClassName=com.mysql.cj.jdbc.Driver

# JPA produzione (validazione schema)
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=false

## Server HTTP (Traefik gestisce HTTPS)
server.port=8080
server.ssl.enabled=false

## URL base produzione
app.base.url=https://api.greedys.it
baseUrl=https://api.greedys.it

## Email produzione (da secrets)
mail.reservation.host=smtps.aruba.it
mail.reservation.port=587
mail.reservation.username=reservation@greedys.it
mail.reservation.password=file:/run/secrets/email_password

mail.support.host=smtp.aruba.it
mail.support.port=587
mail.support.username=support@greedys.it
mail.support.password=file:/run/secrets/email_password

## OAuth2 redirect per produzione
spring.security.oauth2.client.registration.google.redirect-uri={baseUrl}/login/oauth2/code/google

## Twilio produzione
twilio.account.sid=${TWILIO_ACCOUNT_SID}
twilio.auth.token=${TWILIO_AUTH_TOKEN}

## Firebase - Usa Docker secrets (path fisso /run/secrets/service_account)

## Logging produzione (minimale)
logging.level.root=WARN
logging.level.com.application=INFO
logging.level.org.hibernate.SQL=WARN
logging.level.org.springframework=WARN
## ‚≠ê DEBUG WebSocket
logging.level.org.springframework.web.socket=DEBUG
logging.level.org.springframework.web.socket.sockjs=DEBUG

## Swagger UI disabilitato per produzione
springdoc.swagger-ui.enabled=false
# Exclude internal model classes from OpenAPI documentation
springdoc.packages-to-exclude=com.application.common.persistence.model.reservation

## Sicurezza produzione
address.validation.enabled=true
management.endpoints.web.exposure.include=health,info,metrics
