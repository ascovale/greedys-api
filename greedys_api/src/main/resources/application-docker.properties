# === PROFILO DOCKER ===

## Database MySQL (container)
spring.datasource.url=jdbc:mysql://db:3306/greedys_v1
spring.datasource.username=root
spring.datasource.password=file:/run/secrets/db_password
spring.datasource.driverClassName=com.mysql.cj.jdbc.Driver

# JPA MySQL + HikariCP
spring.datasource.type=com.zaxxer.hikari.HikariDataSource
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.maximum-pool-size=20
spring.datasource.hikari.idle-timeout=300000
spring.datasource.hikari.max-lifetime=1200000
spring.datasource.hikari.connection-timeout=20000
spring.datasource.hikari.auto-commit=true
spring.datasource.hikari.pool-name=HikariPool-Greedys
spring.datasource.hikari.leak-detection-threshold=60000
spring.datasource.hikari.data-source-properties.useSSL=false
spring.datasource.hikari.data-source-properties.allowPublicKeyRetrieval=true

spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true

## JWT Security - Usa Docker secrets
jwt.secret=file:/run/secrets/jwt_secret

## Server HTTP interno (Traefik gestisce HTTPS)
server.port=8080
server.ssl.enabled=false

## URL base Docker
app.base.url=https://localhost:5050
baseUrl=https://localhost:5050

## Email Aruba (configurazione completa)
mail.reservation.host=smtps.aruba.it
mail.reservation.port=587
mail.reservation.username=reservation@greedys.it
mail.reservation.password=file:/run/secrets/email_password
mail.reservation.properties.mail.smtp.auth=true
mail.reservation.properties.mail.smtp.starttls.enable=true
mail.reservation.properties.mail.smtp.starttls.required=true
mail.reservation.properties.mail.smtp.ssl.trust=smtps.aruba.it

mail.support.host=smtp.aruba.it
mail.support.port=587
mail.support.username=support@greedys.it
mail.support.password=file:/run/secrets/email_password
mail.support.properties.mail.smtp.auth=true
mail.support.properties.mail.smtp.starttls.enable=true
mail.support.properties.mail.smtp.starttls.required=true
mail.support.properties.mail.smtp.ssl.trust=smtp.aruba.it

## Google OAuth2 Client IDs
google.oauth.client.id=982346813437-3s1uepb5ic7ib5r4mfegdsbrkjjvtl7b.apps.googleusercontent.com
google.oauth.client.secret=file:/run/secrets/google_oauth_client_secret
google.oauth.web.client.id=982346813437-3s1uepb5ic7ib5r4mfegdsbrkjjvtl7b.apps.googleusercontent.com
google.oauth.flutter.client.id=982346813437-d0kerhe6h2km0veqs563avsgtv6vb7p5.apps.googleusercontent.com
google.oauth.android.client.id=982346813437-e1vsuujvorosiaamfdc3honrrbur17ri.apps.googleusercontent.com
google.oauth.ios.client.id=982346813437-iosclientid.apps.googleusercontent.com

## Google Maps API
google.maps.api.key=AIzaSyBlLw6UFLYCMoLebbGpn9wyR3FqqDzQ5wg
geocoding.google.baseUrl=https://maps.googleapis.com/maps/api/geocode/json
google.reserve.api.key=AIzaSyBlLw6UFLYCMoLebbGpn9wyR3FqqDzQ5wg

## Twilio
twilio.account.sid=your_account_sid
twilio.auth.token=your_auth_token
twilio.whatsapp.number=whatsapp:+14155238886
twilio.verify.service.sid=your_verify_service_sid
twilio.verification.expiry.minutes=10
twilio.verification.max.attempts=3

## Address validation
address.validation.enabled=true
address.validation.timeout=5000
address.validation.max.retries=3

## OpenStreetMap Nominatim fallback
geocoding.nominatim.baseUrl=https://nominatim.openstreetmap.org/search
geocoding.nominatim.userAgent=GreedysAPI/1.0

## Logging Docker
logging.level.org.hibernate.SQL=INFO
logging.level.org.springframework.security=INFO
logging.level.com.application=INFO

## Swagger UI abilitato per Docker - OTTIMIZZATO per performance
# Disabilita l'interfaccia SpringDoc standard per usare la nostra personalizzata
springdoc.swagger-ui.enabled=false
springdoc.api-docs.enabled=true
# Utilizza la nostra interfaccia personalizzata
springdoc.swagger-ui.path=/swagger-ui/index.html

# EAGER LOADING per Docker - Genera tutte le API docs all'avvio dell'app
springdoc.cache.disabled=false
springdoc.swagger-ui.disable-swagger-default-url=true
springdoc.show-actuator=false

# Pre-configurazione dei gruppi API per Docker
springdoc.api-docs.groups.enabled=true

## Spring DevTools DISABILITATO per Docker (produzione)
spring.devtools.restart.enabled=false
spring.devtools.livereload.enabled=false
